<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Musidex | Song Info</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Allerta+Stencil">
</head>

  <body>
    <div class="header">
        <h1> Musidex </h1>
    </div>
    <br>
    <div class="flex-container1">
        <div class="side">
            <br>
            <h2>Menu</h2>
            <button class="albums" type="button" onclick="loadDoc()">Albums</button>
            <button class="artists" type="button" onclick="loadDoc1()">Artists</button>
        </div>
        <div id=demo class="main">
          <div>
            <button type="button" onclick="loadSongInfo()">Song Info</button>
          </div>
        </div>
    </div>
    <br>
    <div class="footer">
        <p>copyright 2020 - Lahari | Maya | Sophie</p>
    </div>

    <script>

      function loadSongInfo(){
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                getSongInfo(this);
            }
        };
        xhttp.open("GET", "genre_list.xml", true);
        xhttp.send();
      }

      function getSongInfo(xml){
          var i, text="";
              var xmlDoc = xml.responseXML;
              var x = xmlDoc.getElementsByTagName("song1");
              for (i = 0; i <x.length; i++)
              {
                  text += x[i].getElementsByTagName("title")[0].childNodes[0].nodeValue + "<br>";
                  text += x[i].getElementsByTagName("artist")[0].childNodes[0].nodeValue + "<br>";
                  text += x[i].getElementsByTagName("album")[0].childNodes[0].nodeValue + "<br>";
                  text += x[i].getElementsByTagName("genre")[0].childNodes[0].nodeValue + "<br>";
                  text += x[i].getElementsByTagName("year")[0].childNodes[0].nodeValue + "<br>";
                  text += x[i].getElementsByTagName("length")[0].childNodes[0].nodeValue + "<br>";
                  text += x[i].getElementsByTagName("lyrics")[0].childNodes[0].nodeValue + "<br>";
                  text += x[i].getElementsByTagName("links")[0].childNodes[0].nodeValue + "<br>";
              }
              document.getElementById("demo").innerHTML = text;
      }

      function loadDoc(){
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                myFunction(this);
            }
        };
        xhttp.open("GET", "genre_list.xml", true);
        xhttp.send();
      }

      function myFunction(xml) {
        var i, text = "";
        var xmlDoc = xml.responseXML;
        var x = xmlDoc.getElementsByTagName("song");
        for (i = 0; i <x.length; i++){
                 text += "<br>" + x[i].getElementsByTagName("album")[0].childNodes[0].nodeValue + "<br>" + "<br>";
        }
          document.getElementById("demo").innerHTML = text;
      }

      function loadDoc1(){
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function () {
                if (this.readyState == 4 && this.status == 200) {
                    myFunction1(this);
                  }
            };
          xhttp.open("GET", "genre_list.xml", true);
          xhttp.send();
      }

      function myFunction1(xml){
        var i, text="";
        var xmlDoc = xml.responseXML;
        var x = xmlDoc.getElementsByTagName("song");
        for (i = 0; i <x.length; i++){
          text += "<br>" + x[i].getElementsByTagName("artist")[0].childNodes[0].nodeValue + "<br>";
        }
      }
      document.getElementById("demo").innerHTML = text;


    </script>

  </body>
</html>
